# API 設計

## ユーザー認証

## ユーザーログイン

| API 名         | user_login       |
| -------------- | ---------------- |
| 更新日・更新者 | 田中渉・堀田知生 |
| 概要           | ログインの処理   |

### 入力

| URL    | api/login    |
| ------ | ------------ |
| データ | POST（Json） |

| JSON_KEY | 型     | サイズ | 必須　 | 暗号化 | 値の説明               |
| -------- | ------ | ------ | ------ | ------ | ---------------------- |
| email    | 文字列 | 64     | ○      | 検討中 | メールアドレス         |
| password | 文字列 | 16     | ○      | 必須   | ログイン時のパスワード |

### 出力

| JSON_KEY  | 型           | サイズ | 必須 | 値の説明       |
| --------- | ------------ | ------ | ---- | -------------- |
| user_id   | 数値         | 10     | ○    | ユーザーの ID  |
| user_name | もじぴったん | 30     | ○    | ユーザーの名前 |
| status    | 配列         |        |      | ステータス     |

### 処理結果ステータス

| ステータス | 共個 | メッセージ                         |
| ---------- | ---- | ---------------------------------- |
| 200        | 個別 | ログインに成功しました             |
| 400        | 個別 | 不足している項目のエラー内容を表示 |
| 600        | 個別 | サーバ認証エラー                   |
| 999        | 共通 | システムエラーが発生しました       |

## ユーザー登録

| API 名         | user_register    |
| -------------- | ---------------- |
| 更新日・更新者 | 田中渉・堀田知生 |
| 概要           | 登録の処理       |

### 入力

| URL    | api/register |
| ------ | ------------ |
| データ | POST（Json） |

| JSON_KEY   | 型     | サイズ | 必須　 | 暗号化 | 値の説明                   |
| ---------- | ------ | ------ | ------ | ------ | -------------------------- |
| email      | 文字列 | 64     | ○      | 検討中 | メールアドレス             |
| password   | 文字列 | 16     | ○      | 必須   | ログイン時のパスワード     |
| name       | 文字列 | 20     | ○      | 検討中 | ユーザー名                 |
| price      | 数値   | 1      | ×      | 任意   | ユーザーの金額の好み       |
| volume     | 数値   | 1      | ×      | 任意   | ユーザーの量の好み         |
| kotteri    | 数値   | 1      | ×      | 任意   | ユーザーのこってりの好み   |
| soup       | 数値   | 1      | ×      | 任意   | ユーザーのスープの好み     |
| topping    | 数値   | 1      | ×      | 任意   | ユーザーのトッピングの好み |
| nodle_type | 数値   | 1      | ×      | 任意   | ユーザーの麺の好み         |

### 出力

| JSON_KEY  | 型     | サイズ | 必須 | 値の説明       |
| --------- | ------ | ------ | ---- | -------------- |
| user_id   | 数値   | 10     | ○    | ユーザーの ID  |
| user_name | 文字列 | 30     | ○    | ユーザーの名前 |
| status    | 配列   |        | ○    | ステータス     |

### 処理結果ステータス

| ステータス | 共個 | メッセージ                         |
| ---------- | ---- | ---------------------------------- |
| 200        | 個別 | ユーザー登録に成功しました         |
| 400        | 個別 | 不足している項目のエラー内容を表示 |
| 600        | 個別 | サーバ認証エラー                   |
| 999        | 共通 | システムエラーが発生しました       |

## ユーザーログアウト

| API 名         | user_logout      |
| -------------- | ---------------- |
| 更新日・更新者 | 田中渉・堀田知生 |
| 概要           | ログアウトの処理 |

### 入力

| URL | api/logout |
| --- | ---------- |


### 出力

| status が返却される　 |
| --------------------- |


### 処理結果ステータス

| ステータス | 共個 | メッセージ                         |
| ---------- | ---- | ---------------------------------- |
| 200        | 個別 | ログアウトに成功しました           |
| 400        | 個別 | 不足している項目のエラー内容を表示 |
| 600        | 個別 | サーバ認証エラー                   |
| 999        | 共通 | システムエラーが発生しました       |

## 退会

| API 名         | user_quit        |
| -------------- | ---------------- |
| 更新日・更新者 | 田中渉・堀田知生 |
| 概要           | 退会の処理       |

### 入力

| URL    | api/quit   |
| ------ | ---------- |
| データ | Json(POST) |

| JSON_KEY | 型   | サイズ | 必須 | 値の説明      |
| -------- | ---- | ------ | ---- | ------------- |
| user_id  | 数値 | 10     | ○    | ユーザーの ID |

### 出力

| status が返却される　 |
| --------------------- |


### 処理結果ステータス

| ステータス | 共個 | メッセージ                         |
| ---------- | ---- | ---------------------------------- |
| 200        | 個別 | 退会に成功しました                 |
| 400        | 個別 | 不足している項目のエラー内容を表示 |
| 600        | 個別 | サーバ認証エラー                   |
| 999        | 共通 | システムエラーが発生しました       |

---

## 記事 CRUD

| API 名         |                                  |
| -------------- | -------------------------------- |
| 更新日・更新者 | 田中渉・堀田                     |
| 概要           | 記事の作成・読み出し・更新・削除 |

### 入力

| URL                  | api/crud                                  |
| -------------------- | ----------------------------------------- |
| データ               | Json(POST)                                |
| 店舗毎の Wiki の所得 | store_id                                  |
| Wiki の登録          | store_id/text/store_user_sum/user_id      |
| Wiki の削除          | user_id/store_id                          |
| review の取得(user)  | user_id                                   |
| review の取得(wiki)  | wiki_id                                   |
| review の登録        | user_id/wiki_id/レーダーチャートの値/text |
| review の削除        | review_id                                 |

| JSON_KEY | 型           | サイズ | 必須 | 値の説明   |
| -------- | ------------ | ------ | ---- | ---------- |
| content  | もじぴったん | 255    | ○    | 記事の内容 |

### 出力

| JSON_KEY | 型   | サイズ | 必須 | 値の説明           |
| -------- | ---- | ------ | ---- | ------------------ |
| status   | 数値 |        | o    | 処理結果ステータス |

### 処理結果ステータス

| ステータス | 共個 | メッセージ内容                     |
| ---------- | ---- | ---------------------------------- |
| 200        | 個別 | 成功                               |
| 400        | 個別 | 不足している項目のエラー内容を表示 |
| 600        | 個別 | サーバ認証エラー                   |
| 999        | 共通 | システムエラーが発生しました       |

## 検索

| API 名         | search                         |
| -------------- | ------------------------------ |
| 更新日・更新者 | 黄　舜陽　・　唐澤　祐         |
| 概要           | 検索要求に対して検索結果を返す |

### 入力

| URL    | api/search   |
| ------ | ------------ |
| データ | POST（Json） |

| JSON_KEY | 型     | サイズ | 必須　 | 暗号化 | 値の説明   |
| -------- | ------ | ------ | ------ | ------ | ---------- |
| keyword  | 文字列 | 64     | ○      | 検討中 | 検索ワード |

### 出力

| JSON_KEY       | 型     | サイズ | 必須 | 値の説明           |
| -------------- | ------ | ------ | ---- | ------------------ |
| photo          | 文字列 | 64     | o    | お店写真           |
| store_name     | 文字列 | 64     | o    | お店名             |
| store_address  | 文字列 | 64     | o    | お店住所           |
| price          | 数値   | 10     | o    | 項目１:値段        |
| amount         | 数値   | 10     | o    | 項目２:量          |
| kotteri        | 数値   | 10     | o    | 項目３:こってり度  |
| soup           | 数値   | 10     | o    | 項目４:スープ      |
| topping        | 数値   | 10     | o    | 項目５:具          |
| nodle_type     | 数値   | 10     | o    | 項目６:麺の太さ    |
| error_messages | 配列   |        |      | エラーメッセージ群 |

## お店情報取得

googleMapAPI から取得し、DB に定期的にデータを登録
